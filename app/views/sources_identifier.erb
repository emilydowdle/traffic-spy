<% require 'uri' %>

<head>
  <h1 class="center"><%= @identifier.capitalize + " Statistics" %> </h1>
</head>

<div class='container'>
  <p><strong>Most requested URLS to least requested URLs: </strong></p>
    <% @site_analytics[:url].each do |k, v| %>
      <p><a href="/sources/<%= @identifier %>/urls<%= URI::parse(k).path%>"><%= k %></a>: <%= v %></p>
    <% end %>

  <p><strong>Web browser breakdown across all requests: </strong></p>
    <% @site_analytics[:browser].each do |k, v| %>
      <p><%= k %>: <%= v %></p>
    <% end %>

  <p><strong>OS breakdown across all requests: </strong></p>
    <% @site_analytics[:operating_system].each do |k, v| %>
      <p><%= k %>: <%= v %></p>
    <% end %>

  <p><strong>Screen Resolution across all requests: </strong></p>
    <% @site_analytics[:screen_resolution].each do |k, v| %>
      <p><%= k[0].to_i %>x<%= k[1].to_i %>: <%= v %></p>
    <% end %>

  <p><strong>Longest, average response time per URL to shortest, average response time per URL:</strong></p>
    <% @site_analytics[:response_time].each do |k, v| %>
      <p><%= k %>: <%= v %></p>
    <% end %>

</div>

<!-- <p>OS breakdown across all requests (userAgent)</p>
<p>Screen Resolution across all requests (resolutionWidth x resolutionHeight)</p>
<p>Longest, average response time per URL to shortest, average response time per URL</p>
<p>Hyperlinks of each url to view url specific data</p>
<p>Hyperlink to view aggregate event data</p> -->
